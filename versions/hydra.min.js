/*! Hydra.js v3.8.6 | Date:2014-01-22 | License: https://raw.github.com/tcorral/Hydra.js/master/LICENSE| (c) 2009, 2013
//@ sourceMappingURL=hydra.min.map
*/

(function(a){"use strict";var b=setTimeout,c,d=Error,e,f,g,h,i,j={},k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;C=function(b){var c=e,d=b.split("."),f;while(f=d.shift())c=c[f]!==a?c[f]:c[f]={};return c},A=function(a){return a[a.length-1]},B=function(a,b){a[a.length-1]=b},f=function(a,b){return typeof a===b},g=function(a,b){return a instanceof b},n=function(a,b){var c="The module "+a+" is not registered in the system";if(b)throw new d(c);return c},k="object",r="function";function D(b){try{return g(b,Event)}catch(c){if(b.altKey!==a&&(b.srcElement||b.target))return o}return p}function E(a){var b=p,c=e.jQuery;return c&&(b=g(a,c)),b}function F(){}function G(){var a=Math,b=+new Date+"",c=a.floor(999999*a.random())+1;return b+"_"+c}function H(a){var b,c,d=Object.keys;if(d)b=d(a).length;else{b=0;for(c in a)O(a,c)&&b++}return b}h="undefined",e=this,c=e,z=typeof exports===k&&typeof module===k&&typeof module.exports===k&&typeof require===r,l=null,p=!1,o=!0,i={},q="3.8.6",u=p,m=p;function I(a){return Object.prototype.toString.call(a)}function J(a){return I(a)==="["+k+" Function]"}function K(a){return I(a)==="["+k+" Array]"}function L(a){u=a}function M(a){m=a}function N(a,b){return[].slice.call(a,b||0)}function O(a,b){return a.hasOwnProperty(b)}function P(a,b,c,d){var e,g;for(e in b)O(b,e)&&(g=b[e],a[e]&&f(g,r)&&g(a,c,d))}function Q(a,b,c,e,g){var j,k;return j=i[b],g&&a.isModuleStarted(b)&&a.stop(b),f(j,h)?v.error(new d,n(b)):(k=Y(b),j.instances[c]=k,k.__instance_id__=c,P(k,a.oModifyInit,e,g),f(e,h)?k.init():k.init(e)),k}function R(a,b){var c;for(c in b)O(b,c)&&(a[c]=b[c]);return a}function S(a){var b,c;if(null==a||!f(a,k)||-1===a.constructor.toString().indexOf("Object()")||D(a)||E(a)||a.nodeType&&1===a.nodeType)return a;if(g(a,Date))return b=new Date,b.setTime(a.getTime()),b;if(g(a,Array))return b=N(Array,0);if(g(a,Object)){b={};for(c in a)O(a,c)&&(b[c]=S(a[c]));return b}throw new d("Unable to copy obj! Its type isn't supported.")}function T(a,b,c,d){a[b]=function(a,b){return function(){var d=N(arguments,0);try{return b.apply(this,d)}catch(e){return v.error(c,a,e),p}}}(b,d)}y={global:{}};function U(a,b){var c=[],d;if(!f(a,h))for(d in a)O(a,d)&&d===b&&(c=a[d]);return c}x={subscribers:function(a,b){return U(y[a],b)},_getChannelEvents:function(b,c){return y[b]===a&&(y[b]={}),y[b][c]===a&&(y[b][c]=[]),y[b][c]},_addSubscribers:function(a,b,c){var d;for(d in a)O(a,d)&&this.subscribeTo(b,d,a[d],c)},unsubscribeFrom:function(a,b,c){var d=this._getChannelEvents(a,b),e,f=d.length-1;for(;f>=0;f--)e=d[f],e.subscriber===c&&d.splice(f,1)},subscribeTo:function(a,b,c,d){var e=this._getChannelEvents(a,b);e.push({subscriber:d,handler:c})},subscribe:function(b){var c,d=b.events;if(!b||d===a)return p;for(c in d)O(d,c)&&(y[c]===a&&(y[c]={}),this._addSubscribers(d[c],c,b));return o},_removeSubscribers:function(a,b){var c=0,d;if(!f(a,h))for(d=a.length-1;d>=0;d--)a[d].subscriber===b&&(c++,a.splice(d,1));return c},_removeSubscribersPerEvent:function(a,b,c){var d,e,f,g,h=0;for(d in a)O(a,d)&&(e=d.split(":"),f=b,g=d,"global"===e[0]&&(f=e[0],g=e[1]),h+=this._removeSubscribers(y[f][g],c));return h},unsubscribe:function(b){var c=0,d,e=b.events;if(!b||e===a)return p;for(d in e)O(e,d)&&(y[d]===a&&(y[d]={}),c=this._removeSubscribersPerEvent(e[d],d,b));return c>0},_executeHandler:function(a,b,c,d){a.handler.call(a.subscriber,b),u&&v.log(c,d,a)},_avoidBlockUI:function(a,c,d,e){var f=N(a,0);b(function g(){var a=+new Date;do this._executeHandler(f.shift(),c,d,e);while(f.length>0&&+new Date-a<50);f.length>0&&b(g,25)},25)},publish:function(a,b,c){var d=N(this.subscribers(a,b),0),e,f=d.length,g;if(0===f)return p;if(g=S(c),m)this._avoidBlockUI(d,g,a,b);else while(e=d.shift())this._executeHandler(e,g,a,b);return o},reset:function(){y={global:{}}}};function V(a,b){var c,d,e;for(c in a)if(O(a,c)&&(d=a[c],e=d[b]))return e;return C(b)}function W(b,d){var g,h,k=[],l={bus:x,module:t.module,log:v,api:t,global:e,doc:e.document||null},m={$$_:l,$:l,pr_:j,hm_:i,ns_:c||e,gl_:e},n,o,p={mapping:[],dependencies:[]};d=(d!==a?d:i[b].dependencies||[]).concat();while(g=d.shift())f(g,"string")?(n=m[h=g.substr(0,3)]||m[h=g.substr(0,1)]||(h="")||e,g=g.replace(h,""),o=n[g],o||(o=V(m,g)),k.push(o)):k.push(g),p.mapping.push(g);return p.dependencies=k,p}function X(a,b){var c,d,e=W(a,b);return c=i[a].creator.apply(i[a],e.dependencies),c.dependencies=b,c.resolvedDependencies=e.map,c.__module_id__=a,d=c.init||F,c.__action__=c.__sandbox__=x,c.events=c.events||{},c.init=function(){var a=N(arguments,0).concat(j);return x.subscribe(c),d.apply(this,a)},c.handleAction=function(a){var b=this.events[a.type];f(b,h)||b.call(this,a)},c.onDestroy=c.onDestroy||c.destroy||function(){},c.destroy=function(){this.onDestroy(),x.unsubscribe(c),delete i[a].instances[c.__instance_id__]},c}function Y(a,b){var c,d;if(f(i[a],h)&&n(a,o),c=X(a,b),!u)for(d in c)O(c,d)&&J(c[d])&&T(c,d,a,c[d]);return c}v=e.console||{log:function(){},error:function(){}},w=function(){this.__super__={},this.instances={}},w.prototype={type:"Module",getInstance:Y,oModifyInit:{},register:function(a,b,c){return J(b)&&(c=b,b=[x,t.module,v,t]),i[a]=new s(a,c),i[a].dependencies=b,i[a]},_setSuper:function(a,b){a.__super__={},a.__super__.__instance__=b,a.__super__.__call__=function(b,c){var d=this;while(O(d,b)===p)d=d.__instance__.__super__;return d[b].apply(a,c)}},_callInSuper:function(a){return function(){var b=N(arguments,0);a.apply(this,b)}},_mergeModuleExtended:function(a,b){var c;for(c in b)O(b,c)&&(!f(a.__super__,h)&&J(a[c])&&(a.__super__[c]=this._callInSuper(a[c])),a[c]=b[c])},_mergeModuleBase:function(a,b){var c;for(c in b)O(b,c)&&"__super__"!==c&&(a[c]=b[c])},_merge:function(a,b){var c={};return this._setSuper(c,a),this._mergeModuleBase(c,a),this._mergeModuleExtended(c,b),c},setInstance:function(a,b,c){var d=i[a];return d||n(a,o),d.instances[b]=c,d},setVars:function(a){j=f(j,h)?a:R(j,a)},resetVars:function(){j={}},getVars:function(){return R({},j)},_multiModuleStart:function(a,b,c,d){var e,f,g,h,i,j;for(K(b)&&(e=N(b,0)),K(c)&&(f=N(c,0)),K(d)&&(g=N(d,0)),h=0,i=a.length;i>h;h++)j=a[h],b=e&&e[h]||G(),c=f&&f[h]||c,d=g&&g[h]||d,Q(this,j,b,c,d)},_singleModuleStart:function(a,b,c,d){f(b,"string")||(d=c,c=b,b=G()),Q(this,a,b,c,d)},start:function(a,b,c,d){var e=K(a);e?this._multiModuleStart(N(a,0),b,c,d):this._singleModuleStart(a,b,c,d)},extend:function(a,b,c,d){var e=i[a],g,h;return e?(h=Y(a),f(b,r)&&(d=b,b=a,c=[x,t.module,t.errorHandler(),t]),f(c,r)&&(d=c,c=[x,t.module,t.errorHandler(),t]),c.push(h),g=d.apply(d,c),i[b]=new s(b,function(){var a={};return a=R(a,h),a=R(a,g),a=R(a,{__super__:{__call__:function(b,c){return h[b].apply(a,c)}}})}),i[b].dependencies=c,i[b]):(v.log(n(a)),l)},decorate:function(){return this.extend.apply(this,arguments)},isModuleStarted:function(a,b){var c=p;return c=f(b,h)?!f(i[a],h)&&H(i[a].instances)>0:!f(i[a],h)&&!f(i[a].instances[b],h)},startAll:function(){var a,b;for(a in i)O(i,a)&&(b=i[a],f(b,h)||this.start(a,G()))},_multiModuleStop:function(a){var b,c=a.instances,d;for(b in c)O(c,b)&&(d=c[b],f(a,h)||f(d,h)||d.destroy());a.instances={}},_singleModuleStop:function(a,b,c){var d=a.instances[c];f(a,h)||f(d,h)||(d.destroy(),delete a.instances[c])},stop:function(a,b){var c;return c=i[a],f(c,h)?p:(f(b,h)?this._multiModuleStop(c):this._singleModuleStop(c,a,b),o)},_stopOneByOne:function(a,b){var c;for(c in a)O(a,c)&&this.stop(b,c)},stopAll:function(){var a;for(a in i)O(i,a)&&!f(i[a],h)&&this._stopOneByOne(i[a].instances,a)},_delete:function(a){return f(i[a],h)?p:(delete i[a],o)},remove:function(a){var b=i[a];if(f(b,h))return l;if(!f(b,h))try{return b}finally{this._delete(a)}return l}};function Z(){return v}function $(a){v=a}t=function(){},t.version=q,t.bus=x,t.errorHandler=Z,t.setErrorHandler=$,t.module=new w,t.setUnblockUI=M,t.setDebug=L,t.getDebug=function(){return u},t.extend=function(a,b){this[a]=f(this[a],h)?b:R(this[a],b)},t.resolveDependencies=W,t.noConflict=function(a,b,c){return f(this[a],h)?p:(b[c]=this[a],o)},t.addExtensionBeforeInit=function(a){t.module.oModifyInit=R(t.module.oModifyInit,a)},t.getCopyModules=function(){return S(i)},t.getCopyChannels=function(){return S(y)},t.setNamespace=function(a){c=a},s=function(a,b){if(f(b,h))throw new d("Something goes wrong!");this.creator=b,this.instances={},this.sModuleId=a},s.prototype={start:function(a){return t.module.start(this.sModuleId,a),this},extend:function(a,b){return t.module.extend(this.sModuleId,a,b),this},stop:function(){return t.module.stop(this.sModuleId),this}},e.Hydra=t,z?module.exports=t:typeof define!==h&&define("hydra",[],function(){return t})}).call(this);
//# sourceMappingURL=hydra.min.map